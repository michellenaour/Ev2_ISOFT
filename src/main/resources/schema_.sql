CREATE TABLE region (rgn_id int GENERATED BY DEFAULT AS IDENTITY, rgn_nombre varchar(255), PRIMARY KEY (rgn_id));
CREATE TABLE comuna (com_id int GENERATED BY DEFAULT AS IDENTITY, rgn_id int NOT NULL, com_nombre varchar(255), PRIMARY KEY (com_id));
CREATE TABLE establecimiento (est_id int GENERATED BY DEFAULT AS IDENTITY, com_id int NOT NULL, est_nombre varchar(255), est_direccion varchar(255), PRIMARY KEY (est_id));
CREATE TABLE personal_medico (med_rut int GENERATED BY DEFAULT AS IDENTITY, med_dv varchar(2), med_nombres varchar(255), med_apellidos varchar(255), PRIMARY KEY (med_rut));
CREATE TABLE estado_paciente (etd_id int GENERATED BY DEFAULT AS IDENTITY, etd_nombre varchar(255), PRIMARY KEY (etd_id));
CREATE TABLE paciente (pac_rut int GENERATED BY DEFAULT AS IDENTITY, pac_dv varchar(2), med_run int NOT NULL, etd_id int NOT NULL, est_id int NOT NULL, pac_nombres varchar(255), pac_apellidos varchar(255), pac_sexo varchar(255), pac_fecha_nacimiento varchar(255), pac_nacionalidad varchar(255), pac_pueblo_originario varchar(255), pac_direccion varchar(255), pac_telefono varchar(255), PRIMARY KEY (pac_rut));
CREATE TABLE antecedente (ant_id int GENERATED BY DEFAULT AS IDENTITY, pac_rut int NOT NULL, ant_embarazo boolean, ant_enfermedad_cronica varchar(255), ant_alergias varchar(255), ant_tipo_sangre varchar(255), ant_medicamento varchar(255), ant_viaje varchar(255), PRIMARY KEY (ant_id));
CREATE TABLE caso (cas_id int GENERATED BY DEFAULT AS IDENTITY, pac_rut int NOT NULL, cas_sintomas varchar(255), cas_fecha varchar(255), cas_asintomatico boolean, PRIMARY KEY (cas_id));
ALTER TABLE comuna ADD CONSTRAINT FKcomuna865032 FOREIGN KEY (rgn_id) REFERENCES region (rgn_id);
ALTER TABLE establecimiento ADD CONSTRAINT FKestablecim157299 FOREIGN KEY (com_id) REFERENCES comuna (com_id);
ALTER TABLE paciente ADD CONSTRAINT FKpaciente914857 FOREIGN KEY (med_run) REFERENCES personal_medico (med_rut);
ALTER TABLE caso ADD CONSTRAINT FKcaso613995 FOREIGN KEY (pac_rut) REFERENCES paciente (pac_rut);
ALTER TABLE antecedente ADD CONSTRAINT FKantecedent470179 FOREIGN KEY (pac_rut) REFERENCES paciente (pac_rut);
ALTER TABLE paciente ADD CONSTRAINT FKpaciente981233 FOREIGN KEY (etd_id) REFERENCES estado_paciente (etd_id);
ALTER TABLE paciente ADD CONSTRAINT FKpaciente535873 FOREIGN KEY (est_id) REFERENCES establecimiento (est_id);
